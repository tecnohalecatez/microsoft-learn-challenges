# Desarrollo de soluciones para Microsoft Azure

1. Una empresa planea usar Azure Cache for Redis. La empresa planea usar módulos de Redis. Necesita recomendar un nivel de servicio de Azure Cache for Redis. ¿Qué nivel de servicio tiene que recomendar?
    - **Enterprise**

    Este elemento pone a prueba los conocimientos de los candidatos sobre los niveles de servicio de Azure Cache for Redis. Los módulos de Redis solo se admiten en el nivel de servicio Enterprise. Los niveles de servicio Básico, Estándar y Premium no admiten módulos de Redis.


2. Usted administra una instancia de Azure Cache for Redis. Necesita cargar datos a petición en la memoria caché desde una base de datos grande. ¿Qué patrón de arquitectura de aplicaciones debería usar?
    - **Caché de datos**

    Este elemento pone a prueba los conocimientos de los candidatos sobre el patrón de diseño de arquitectura de aplicaciones, que forma parte de la implementación del almacenamiento en caché para las soluciones. Las bases de datos suelen ser demasiado grandes para cargarse directamente en una memoria caché, por lo que es habitual usar el patrón de caché de datos. El almacén de sesiones se usa para almacenar información de sesión de usuarios en lugar de almacenar demasiados datos en una cookie que pueda afectar negativamente al rendimiento. Las transacciones distribuidas permiten que una serie de comandos se ejecuten en un almacén de datos de back-end como una sola operación. Mediante el uso de la caché de contenido, puede proporcionar acceso más rápido al contenido estático en comparación con los almacenes de datos de back-end. El almacén de sesiones, las transacciones distribuidas y la caché de contenido no se pueden usar para cargar datos a petición.


3. Usted administra Azure Cache for Redis mediante clases en el espacio de nombres .NET StackExchange.Redis. Debe recuperar una referencia de una base de datos de Redis mediante el método GetDatabase. ¿Qué debería que hacer en primer lugar?
    - **Crear un objeto ConnectionMultiplexer**

    Este elemento pone a prueba los conocimientos de los candidatos sobre cómo interactuar mediante programación con Azure Cache for Redis, que es una parte integral de la implementación de patrones de caché de aplicaciones seguros y optimizados, incluyendo el ajuste de tamaño de datos, las conexiones, el cifrado y la expiración. La creación de un objeto ConnectionMultiplexer es el primer paso necesario para recuperar una referencia a una base de datos de Redis mediante el método GetDatabase. Se requiere crear un objeto CdnManagementClient cuando se use el almacenamiento en caché de Azure Content Delivery Network, no Azure Cache for Redis. Llamar a un método StringSet permitirá administrar el contenido de una base de datos de Redis, lo que se producirá una vez que el objeto ConnectionMultiplexer y la base de datos se hayan creado. Llamar a un método StringGet permitirá recuperar el contenido de una base de datos de Redis, lo que se producirá una vez que el objeto ConnectionMultiplexer y la base de datos se hayan creado.


4. Tiene previsto usar Azure Cache for Redis como capa de almacenamiento en caché para varias aplicaciones. Tiene los siguientes requisitos: Evitar la pérdida de datos si los nodos están inactivos. Minimizar los costes de almacenamiento. Optimizar el rendimiento. ¿Qué solución debe usar?
    - **Persistencia de la base de datos de Redis (RDB) con la característica de eliminación temporal deshabilitada en la cuenta de almacenamiento asociada**

    Este elemento pone a prueba los conocimientos de los candidatos sobre la persistencia de datos en Azure Cache for Redis. La persistencia de RDB guarda copias de seguridad en función del intervalo de copia de seguridad configurado con un efecto mínimo en el rendimiento. Deshabilitar la característica de eliminación temporal en una cuenta de almacenamiento implica que Azure Cache for Redis no puede minimizar los costes de almacenamiento mediante la eliminación de los datos de copia de seguridad antiguos. Habilitar la característica de eliminación temporal en una cuenta de almacenamiento implica que Azure Cache for Redis no puede minimizar los costes de almacenamiento mediante la eliminación de los datos de copia de seguridad antiguos. La persistencia de AOF guarda cada escritura en un registro, lo que tiene un efecto significativo en el rendimiento. Deshabilitar y habilitar la característica de eliminación temporal en una cuenta de almacenamiento implica que Azure Cache for Redis no puede minimizar los costes de almacenamiento mediante la eliminación de los datos de copia de seguridad antiguos.


5. Tiene la siguiente clase GameStat:
```java
public class GameStat
{
    public string Id { get; set; }
    public string Sport { get; set; }
    public DateTimeOffset DatePlayed { get; set; }
    public string Game { get; set; }
    public IReadOnlyList<string> Teams { get; set; }
    public IReadOnlyList<(string team, int score)> Results { get; set; }

    public GameStat(string sport, DateTimeOffset datePlayed, string game, string[] teams, IEnumerable<(string team, int score)> results)
    {
        Id = Guid.NewGuid().ToString();
        Sport = sport;
        DatePlayed = datePlayed;
        Game = game;
        Teams = teams.ToList();
        Results = results.ToList();
    }

    public override string ToString()
    {
        return $"{Sport} {Game} played on {DatePlayed.Date.ToShortDateString()} - " +
               $"{String.Join(',', Teams)}\r\n\t" + 
               $"{String.Join('\t', Results.Select(r => $"{r.team } - {r.score}\r\n"))}";
    }
}
```
Debe almacenar una instancia de la clase GameStat en Azure Cache for Redis. ¿Qué dos segmentos de código debería usar? Cada respuesta correcta presenta una solución completa.

    - ```java
    var stat = new GameStat("Soccer", new DateTime(2019, 7, 16), "Local Game", new[] { "Team 1", "Team 2" }, new[] { ("Team 1", 2), ("Team 2", 1) }); string serializedValue = System.Text.Json.JsonSerializer.Serialize (stat); bool added = db.StringSet("event:1950-world-cup", serializedValue);
    ```
    - ```java
    var stat = new GameStat("Soccer", new DateTime(2019, 7, 16), "Local Game", new[] { "Team 1", "Team 2" }, new[] { ("Team 1", 2), ("Team 2", 1) }); bool added = db.StringSet("event:1950-world-cup", stat.ToString());
    ```

    Este elemento pone a prueba los conocimientos de los candidatos sobre cómo implementar el almacenamiento en caché. Los segmentos de código que incluyen la operación StringSet serializarán y almacenarán correctamente el contenido de la clase GameStat en Azure Cache for Redis. Los segmentos de código que incluyen la operación StringGet no lo harán.